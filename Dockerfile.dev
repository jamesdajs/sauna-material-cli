# Usa una imagen base de Node (necesaria para npm y Angular CLI)
FROM node:20-alpine

# Establece el directorio de trabajo dentro del contenedor
WORKDIR /app

# Copia los archivos de configuraci√≥n
COPY package.json package-lock.json ./

# Instala las dependencias (incluyendo las de desarrollo para ng serve)
RUN npm install

# Copia todo el c√≥digo fuente del proyecto
COPY . .

# Expone el puerto por defecto de Angular
EXPOSE 4200

# Comando para iniciar el servidor de desarrollo de Angular.
# üö® IMPORTANTE: '0.0.0.0' es necesario para que el servidor sea accesible
# desde fuera del contenedor. El host por defecto ('localhost' o '127.0.0.1')
# solo ser√≠a accesible DENTRO del contenedor.
CMD ["npm", "start", "--", "--host", "0.0.0.0"]